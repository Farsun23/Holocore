buildscript {
	repositories {
		jcenter()
	}
	dependencies {
		classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.2'
	}
}

plugins {
	id 'com.github.johnrengelman.shadow' version '2.0.2'
	id 'application'
	id 'java'
	id 'idea'
}

mainClassName  = 'main.ProjectSWG'

sourceSets {
    main {
        java {
            srcDirs = ['src', 'test']
        }
    }
	test {
		java {
			srcDirs = ['src', 'test']
		}
	}
}

test {
	testLogging {
		events "skipped", "failed" // just good to know in terms of what failed
	}
	afterSuite { TestDescriptor td, TestResult tr ->
		if (td.parent == null) {
			println 'Tests run: ('+tr.getTestCount()+'), Failures: ('+tr.getFailedTestCount()+')' // IMPORTANT - this is required for Lightspeed
		}
	}
	include 'main/TestAll.class' // to run only a single test case
}

shadowJar{
	archiveName = "Holocore.jar"
}

repositories {
	jcenter()
}

dependencies {
	compile project(':PSWGCommon')
	compile project(':PSWGCommonFX')
	compile fileTree(dir: 'lib', include: ['*.jar'])
	testCompile fileTree(dir: 'lib', include: ['*.jar'])
}

task wrapper(type: Wrapper) {
	gradleVersion = "4.4.1"
}
